(function(e){function a(a){for(var t,l,i=a[0],o=a[1],d=a[2],u=0,p=[];u<i.length;u++)l=i[u],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&p.push(n[l][0]),n[l]=0;for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t]);c&&c(a);while(p.length)p.shift()();return s.push.apply(s,d||[]),r()}function r(){for(var e,a=0;a<s.length;a++){for(var r=s[a],t=!0,i=1;i<r.length;i++){var o=r[i];0!==n[o]&&(t=!1)}t&&(s.splice(a--,1),e=l(l.s=r[0]))}return e}var t={},n={app:0},s=[];function l(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=e,l.c=t,l.d=function(e,a,r){l.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:r})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,a){if(1&a&&(e=l(e)),8&a)return e;if(4&a&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var t in e)l.d(r,t,function(a){return e[a]}.bind(null,t));return r},l.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(a,"a",a),a},l.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},l.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=a,i=i.slice();for(var d=0;d<i.length;d++)a(i[d]);var c=o;s.push([0,"chunk-vendors"]),r()})({0:function(e,a,r){e.exports=r("56d7")},"034f":function(e,a,r){"use strict";var t=r("64a9"),n=r.n(t);n.a},"56d7":function(e,a,r){"use strict";r.r(a);r("cadf"),r("551c"),r("f751"),r("097d");var t=r("2b0e"),n=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("div",{attrs:{id:"app"},on:{drop:function(a){return a.preventDefault(),e.addFile(a)},dragover:function(e){e.preventDefault()},"!dragover":function(a){return e.dragingOn(a)},"!drop":function(a){return e.dragingOff(a)}}},[r("h1",[e._v("Welcome to SIDCloud")]),r("img",{attrs:{src:e.csdb_release_screenshot}}),r("p"),r("p",[e._v(e._s(e.csdb_release_name)+" "+e._s(e.csdb_release_group))]),r("p"),r("p"),r("b-container",{staticClass:"bv-example-row"},[r("b-row",{staticClass:"my-1"},[r("b-col",{attrs:{sm:"3"}},[r("button",{staticClass:"btn btn-success",staticStyle:{"margin-right":"10px","margin-left":"10px"},attrs:{type:"button",disabled:e.dragin},on:{click:e.Link}},[e._v("Load and stream")])]),r("b-col",{attrs:{sm:"3"}},[r("button",{staticClass:"btn btn-success",staticStyle:{"margin-right":"10px","margin-left":"10px"},attrs:{type:"button",disabled:e.dragin},on:{click:e.Next}},[e._v("Goto next release")])]),r("b-col",{attrs:{sm:"3"}},[r("button",{staticClass:"btn btn-success",staticStyle:{"margin-right":"10px","margin-left":"10px"},attrs:{type:"button",disabled:e.dragin},on:{click:e.Pause}},[e._v("Pause/Play")])])],1),r("p"),r("b-col",{attrs:{sm:"3"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.sid_link,expression:"sid_link"}],staticClass:"form-control",staticStyle:{},attrs:{placeholder:"Paste SID/PRG link and press Enter to play or Drag your SID/PRG file here",disabled:e.dragin},domProps:{value:e.sid_link},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.Link(a)},input:function(a){a.target.composing||(e.sid_link=a.target.value)}}})])],1)],1)},s=[],l=(r("4917"),r("a481"),r("bc3a")),i=r.n(l),o=r("1e5c"),d={data:function(){return{handle_id:0,csdb_releases:null,csdb_release:null,csdb_release_id:null,csdb_release_data:null,csdb_download_links:null,csdb_release_name:"",csdb_release_group:"",csdb_release_credits:"",csdb_release_screenshot:"",release_nr:1,info:null,sid_link:null,response_from_server:null,query_url:"",file:null,dragin:!1,log:"log",audio_src_org:"http://sidcloud.net/api/v1/audio",audio_src:"http://sidcloud.net/api/v1/audio",sound:new o["Howl"]({src:["http://sidcloud.net/api/v1/audio"],format:["wav"],html5:!0})}},name:"app",components:{},created:function(){this.GetCSDBData()},methods:{dragingOn:function(){this.dragin=!0},dragingOff:function(){this.dragin=!1},addFile:function(e){var a=this,r="http://sidcloud.net/api/v1/audio",t=document.getElementById("radio");t.pause(),t.currentTime=0;var n=new FormData;n.append("file",e.dataTransfer.files[0]);var s={headers:{"content-type":e.dataTransfer.files[0].type}};i.a.put(r,n,s).then((function(e){console.log("File sent. Response: ",e.data),a.response_from_server=e.data,t.load(),t.play()}))},Next:function(){this.GetCSDBData()},Pause:function(){this.sound.playing()?this.sound.pause():this.sound.play()},GetCSDBData:function(){var e,a=this;this.csdb_release_name="",this.csdb_release_group="",this.csdb_release_credits="",this.csdb_release_screenshot="",e="http://sidcloud.net/api/v1/csdb_releases",console.log("GetCSDBData() "+e),i.a.get(e).then((function(r){a.csdb_releases=r.data;var t,n=new DOMParser;for(t=0;t<100;t++)if(a.csdb_release=n.parseFromString(a.csdb_releases,"application/xml").getElementsByTagName("description")[a.release_nr++].childNodes[0].nodeValue,a.csdb_release.indexOf(">C64 Demo</a><br /><a href=")>0||a.csdb_release.indexOf(">C64 One-File Demo</a><br /><a href=")>0||a.csdb_release.indexOf(">C64 Intro</a><br /><a href=")>0||a.csdb_release.indexOf(">C64 4K Intro</a><br /><a href=")>0||a.csdb_release.indexOf(">C64 Crack intro</a><br /><a href=")>0||a.csdb_release.indexOf(">C64 REU Release</a><br /><a href=")>0||a.csdb_release.indexOf(">C64 Music</a><br /><a href=")>0||a.csdb_release.indexOf(">C64 Music Collection</a><br /><a href=")>0||a.csdb_release.indexOf(">C64 Graphics Collection</a><br /><a href=")>0||a.csdb_release.indexOf(">C64 Diskmag</a><br /><a href=")>0||a.csdb_release.indexOf(">C64 Charts</a><br /><a href=")>0||a.csdb_release.indexOf(">C64 Invitation</a><br /><a href=")>0||a.csdb_release.indexOf(">C64 1K Intro</a><br /><a href=")>0||a.csdb_release.indexOf(">C64 Fake Demo</a><br /><a href=")>0||a.csdb_release.indexOf(">C128 Release</a><br /><a href=")>0||a.csdb_release.indexOf(">SuperCPU Release</a><br /><a href=")>0||a.csdb_release.indexOf(">C64 DTV</a><br /><a href=")>0||a.csdb_release.indexOf(">C64 Fake Demo</a><br /><a href=")>0)break;a.csdb_release_id=n.parseFromString(a.csdb_releases,"application/xml").getElementsByTagName("link")[a.release_nr].childNodes[0].nodeValue,a.csdb_release_id=parseInt(a.csdb_release_id.replace(/^[^0-9]+/,""),10),e="http://sidcloud.net/api/v1/csdb_release?id="+a.csdb_release_id+"&depth=2",i.a.post(e).then((function(e){a.csdb_release_data=e.data;var r,t,s=(a.csdb_release_data.match(/<Link>/g)||[]).length;console.log("Liczba link√≥w: "+s),a.csdb_download_links=s;var l=!1;for(a.sid_link="",r=0;r<s;r++)if(t=n.parseFromString(a.csdb_release_data,"application/xml").getElementsByTagName("Link")[r].childNodes[0].nodeValue,t.indexOf(".sid")>0){l=!0;break}if(!l)for(r=0;r<s;r++)if(t=n.parseFromString(a.csdb_release_data,"application/xml").getElementsByTagName("Link")[r].childNodes[0].nodeValue,t.indexOf(".prg")>0)break;if(l){a.sid_link=t,a.csdb_release_name=n.parseFromString(a.csdb_release_data,"application/xml").getElementsByTagName("Name")[0].childNodes[0].nodeValue;var i=(a.csdb_release_data.match(/<Group>/g)||[]).length;console.log("Liczba grup: "+i),a.csdb_release_group=i>0?"by ":"";var o=" ";for(r=2;r<i+2;r++)r>2&&(o=", "),a.csdb_release_group+=o+n.parseFromString(a.csdb_release_data,"application/xml").getElementsByTagName("Name")[r].childNodes[0].nodeValue;a.csdb_release_screenshot=n.parseFromString(a.csdb_release_data,"application/xml").getElementsByTagName("ScreenShot")[0].childNodes[0].nodeValue,console.log("Screenshot: "+a.csdb_release_screenshot)}else a.GetCSDBData()}))}))},Link:function(){var e=this,a="http://sidcloud.net/api/v1/audio?sid_url="+this.sid_link;console.log("Query = "+a),i.a.post(a).then((function(a){e.response_from_server=a.data,e.sound.stop(),e.sound.unload(),e.sound.load(),e.sound.play()}))}}},c=d,u=(r("034f"),r("2877")),p=Object(u["a"])(c,n,s,!1,null,null,null),f=p.exports;i.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",t["a"].config.productionTip=!1,new t["a"]({render:function(e){return e(f)},axios:i.a}).$mount("#app")},"64a9":function(e,a,r){}});
//# sourceMappingURL=app.08c49e15.js.map