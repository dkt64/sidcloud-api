(function(e){function n(n){for(var t,o,l=n[0],d=n[1],i=n[2],u=0,p=[];u<l.length;u++)o=l[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(t in d)Object.prototype.hasOwnProperty.call(d,t)&&(e[t]=d[t]);c&&c(n);while(p.length)p.shift()();return s.push.apply(s,i||[]),a()}function a(){for(var e,n=0;n<s.length;n++){for(var a=s[n],t=!0,l=1;l<a.length;l++){var d=a[l];0!==r[d]&&(t=!1)}t&&(s.splice(n--,1),e=o(o.s=a[0]))}return e}var t={},r={app:0},s=[];function o(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=t,o.d=function(e,n,a){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)o.d(a,t,function(n){return e[n]}.bind(null,t));return a},o.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=n,l=l.slice();for(var i=0;i<l.length;i++)n(l[i]);var c=d;s.push([0,"chunk-vendors"]),a()})({0:function(e,n,a){e.exports=a("56d7")},"034f":function(e,n,a){"use strict";var t=a("64a9"),r=a.n(t);r.a},"56d7":function(e,n,a){"use strict";a.r(n);a("cadf"),a("551c"),a("f751"),a("097d");var t=a("2b0e"),r=function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("div",{attrs:{id:"app"},on:{drop:function(n){return n.preventDefault(),e.addFile(n)},dragover:function(e){e.preventDefault()},"!dragover":function(n){return e.dragingOn(n)},"!drop":function(n){return e.dragingOff(n)}}},[a("h1",[e._v("Welcome to SIDCloud")]),a("img",{attrs:{src:e.csdb_release_screenshot}}),a("p"),a("p",[e._v(e._s(e.csdb_release_name)+" "+e._s(e.csdb_release_group))]),a("p"),e._m(0),a("p"),a("b-container",{staticClass:"bv-example-row"},[a("b-row",{staticClass:"my-1"},[a("b-col",{attrs:{sm:"3"}},[a("button",{staticClass:"btn btn-success",staticStyle:{"margin-right":"10px","margin-left":"10px"},attrs:{type:"button",disabled:e.dragin},on:{click:e.Link}},[e._v("Load and stream")])]),a("b-col",{attrs:{sm:"3"}},[a("button",{staticClass:"btn btn-success",staticStyle:{"margin-right":"20px"},attrs:{type:"button",disabled:e.dragin},on:{click:e.Next}},[e._v("Goto next release")])])],1),a("p"),a("b-col",{attrs:{sm:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sid_link,expression:"sid_link"}],staticClass:"form-control",staticStyle:{},attrs:{placeholder:"Paste SID/PRG link and press Enter to play or Drag your SID/PRG file here",disabled:e.dragin},domProps:{value:e.sid_link},on:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.Link(n)},input:function(n){n.target.composing||(e.sid_link=n.target.value)}}})])],1),a("div",{attrs:{id:"log"}},[e._v(e._s(e.log))])],1)},s=[function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("audio",{attrs:{id:"radio",controls:"",preload:"none",loop:""}},[a("source",{attrs:{src:"http://sidcloud.net/api/v1/audio",type:"audio/wav"}})])}],o=(a("4917"),a("a481"),a("bc3a")),l=a.n(o),d={data:function(){return{handle_id:0,csdb_releases:null,csdb_release:null,csdb_release_id:null,csdb_release_data:null,csdb_download_links:null,csdb_release_name:"",csdb_release_group:"",csdb_release_credits:"",csdb_release_screenshot:"",release_nr:1,info:null,sid_link:null,response_from_server:null,query_url:"",file:null,dragin:!1,log:"log"}},name:"app",components:{},created:function(){this.GetCSDBData()},methods:{dragingOn:function(){this.dragin=!0},dragingOff:function(){this.dragin=!1},addFile:function(e){var n=this,a="http://sidcloud.net/api/v1/audio",t=document.getElementById("radio");t.pause(),t.currentTime=0;var r=new FormData;r.append("file",e.dataTransfer.files[0]);var s={headers:{"content-type":e.dataTransfer.files[0].type}};l.a.put(a,r,s).then((function(e){console.log("File sent. Response: ",e.data),n.response_from_server=e.data,t.load(),t.play()}))},Next:function(){this.GetCSDBData()},GetCSDBData:function(){var e,n=this;this.csdb_release_name="",this.csdb_release_group="",this.csdb_release_credits="",this.csdb_release_screenshot="",e="http://sidcloud.net/api/v1/csdb_releases",console.log("GetCSDBData() "+e),l.a.get(e).then((function(a){n.csdb_releases=a.data;var t,r=new DOMParser;for(t=0;t<100;t++)if(n.csdb_release=r.parseFromString(n.csdb_releases,"application/xml").getElementsByTagName("description")[n.release_nr++].childNodes[0].nodeValue,n.csdb_release.indexOf(">C64 Demo</a><br /><a href=")>0||n.csdb_release.indexOf(">C64 One-File Demo</a><br /><a href=")>0||n.csdb_release.indexOf(">C64 Intro</a><br /><a href=")>0||n.csdb_release.indexOf(">C64 4K Intro</a><br /><a href=")>0||n.csdb_release.indexOf(">C64 Crack intro</a><br /><a href=")>0||n.csdb_release.indexOf(">C64 REU Release</a><br /><a href=")>0||n.csdb_release.indexOf(">C64 Music</a><br /><a href=")>0||n.csdb_release.indexOf(">C64 Music Collection</a><br /><a href=")>0||n.csdb_release.indexOf(">C64 Graphics Collection</a><br /><a href=")>0||n.csdb_release.indexOf(">C64 Diskmag</a><br /><a href=")>0||n.csdb_release.indexOf(">C64 Charts</a><br /><a href=")>0||n.csdb_release.indexOf(">C64 Invitation</a><br /><a href=")>0||n.csdb_release.indexOf(">C64 1K Intro</a><br /><a href=")>0||n.csdb_release.indexOf(">C64 Fake Demo</a><br /><a href=")>0||n.csdb_release.indexOf(">C128 Release</a><br /><a href=")>0||n.csdb_release.indexOf(">SuperCPU Release</a><br /><a href=")>0||n.csdb_release.indexOf(">C64 DTV</a><br /><a href=")>0||n.csdb_release.indexOf(">C64 Fake Demo</a><br /><a href=")>0)break;n.csdb_release_id=r.parseFromString(n.csdb_releases,"application/xml").getElementsByTagName("link")[n.release_nr].childNodes[0].nodeValue,n.csdb_release_id=parseInt(n.csdb_release_id.replace(/^[^0-9]+/,""),10),e="http://sidcloud.net/api/v1/csdb_release?id="+n.csdb_release_id+"&depth=2",l.a.post(e).then((function(e){n.csdb_release_data=e.data;var a,t,s=(n.csdb_release_data.match(/<Link>/g)||[]).length;console.log("Liczba link√≥w: "+s),n.csdb_download_links=s;var o=!1;for(n.sid_link="",a=0;a<s;a++)if(t=r.parseFromString(n.csdb_release_data,"application/xml").getElementsByTagName("Link")[a].childNodes[0].nodeValue,t.indexOf(".sid")>0){o=!0;break}if(!o)for(a=0;a<s;a++)if(t=r.parseFromString(n.csdb_release_data,"application/xml").getElementsByTagName("Link")[a].childNodes[0].nodeValue,t.indexOf(".prg")>0)break;if(o){n.sid_link=t,n.csdb_release_name=r.parseFromString(n.csdb_release_data,"application/xml").getElementsByTagName("Name")[0].childNodes[0].nodeValue;var l=(n.csdb_release_data.match(/<Group>/g)||[]).length;console.log("Liczba grup: "+l),n.csdb_release_group=l>0?"by ":"";var d=" ";for(a=2;a<l+2;a++)a>2&&(d=", "),n.csdb_release_group+=d+r.parseFromString(n.csdb_release_data,"application/xml").getElementsByTagName("Name")[a].childNodes[0].nodeValue;n.csdb_release_screenshot=r.parseFromString(n.csdb_release_data,"application/xml").getElementsByTagName("ScreenShot")[0].childNodes[0].nodeValue,console.log("Screenshot: "+n.csdb_release_screenshot)}else n.GetCSDBData()}))}))},Link:function(){var e=this,n="http://sidcloud.net/api/v1/audio?sid_url="+this.sid_link;console.log("Query = "+n),document.getElementById("log").innerHTML="["+Date.now()+"] start  ";var a=document.getElementById("radio");a.pause(),a.currentTime=0,a.addEventListener("waiting",(function(){console.log("player event: waiting"),document.getElementById("log").innerHTML+="["+Date.now()+"] waiting  "})),a.addEventListener("play",(function(){console.log("player event: play"),document.getElementById("log").innerHTML+="["+Date.now()+"] play  "})),a.addEventListener("pause",(function(){console.log("player event: pause"),document.getElementById("log").innerHTML+="["+Date.now()+"] pause  "})),a.addEventListener("ended",(function(){console.log("player event: ended"),document.getElementById("log").innerHTML+="["+Date.now()+"] ended  "})),a.addEventListener("loadstart",(function(){console.log("player event: loadstart"),document.getElementById("log").innerHTML+="["+Date.now()+"] loadstart  "})),a.addEventListener("durationchange",(function(){console.log("player event: durationchange"),document.getElementById("log").innerHTML+="["+Date.now()+"] durationchange  "})),a.addEventListener("loadedmetadata",(function(){console.log("player event: loadedmetadata"),document.getElementById("log").innerHTML+="["+Date.now()+"] loadedmetadata  "})),a.addEventListener("loadeddata",(function(){console.log("player event: loadeddata"),document.getElementById("log").innerHTML+="["+Date.now()+"] loadeddata  "})),a.addEventListener("canplay",(function(){console.log("player event: canplay"),document.getElementById("log").innerHTML+="["+Date.now()+"] canplay  "})),a.addEventListener("canplaythrough",(function(){console.log("player event: canplaythrough"),document.getElementById("log").innerHTML+="["+Date.now()+"] canplaythrough  "})),l.a.post(n).then((function(n){e.response_from_server=n.data,console.log("SID data "+e.response_from_server),a.load(),a.play()}))}}},i=d,c=(a("034f"),a("2877")),u=Object(c["a"])(i,r,s,!1,null,null,null),p=u.exports;l.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",t["a"].config.productionTip=!1,new t["a"]({render:function(e){return e(p)},axios:l.a}).$mount("#app")},"64a9":function(e,n,a){}});
//# sourceMappingURL=app.554907b9.js.map